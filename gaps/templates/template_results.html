{% extends "base_template.html" %}
{% block title %}GAPS results{% endblock %}

{% block content %}
    {% if results %}
        <table class="table table-hover table-primary table-striped table-sm">
            <thead>
            <tr>
                <th scope="col">Article title</th>
                <th scope="col">Publication date</th>
                <th scope="col">Genes</th>
            </tr>
            </thead>
            <tbody>
            {% for result in results %}
                <tr>
                    <td>
                        <a href="https://pubmed.ncbi.nlm.nih.gov/{{ result["article"]["pubmed_id"] }}/"
                           target="_blank" title="PubMed article"
                           class="link-secondary">{{ result["article"]["title"] | safe }}</a>
                    </td>
                    <td>{{ result["article"]["publication_date"] }}</td>
                    <td>
                        {% for gene in result["genes"].items() %}
                            {% if not ";" in gene[0] %}
                                <a href="https://www.ncbi.nlm.nih.gov/gene/{{ gene[0] }}"
                                   class="link-secondary" target="_blank"
                                   title="Gene ncbi">{{ gene[1] }}</a>
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No results found ┗|｀O′|┛</p>
    {% endif %}
{% endblock %}
